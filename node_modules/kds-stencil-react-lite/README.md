# Overview

## What is kds-stencil-react-lite?

`kds-stencil-react-lite` is a library of React components that wrap web components in the `kds-stencil-lite` library.

## How does it work?

Each React wrapper component is generated by the build step of `kds-stencil-lite` directly into `kds-stencil-react-lite`. These wrappers serve as means to solve common issue with web components in React such as handling property binding and event binding.

# Guide

To expose a new component in `kds-stencil-react-lite`, first follow the readme in `kds-stencil-lite` located inside the main `kds-stencil` project. Once the build process for `kds-stencil-lite` has run, follow these steps:

## 1. Check that each component was properly generated.

Once the `kds-stencil-lite` build process has run and the bindings have been generated, a new `components.ts` file should appear in the `src/` directory. The bottom of the file will contain a list of exported components. Ensure the desired components are being exported by the file. If not, repeat the process outlined in the `kds-stencil-lite` readme.

## 2. Transfer components to `components.tsx`

Copy the export statements for the new components over to `components.tsx`, removing the `Kds` prefix from each component (Ex: `KdsButtonGroup` to `ButtonGroup`). Once complete, you can delete `components.ts`.

## 3. (Optional) Proxy event listeners.

For some components, we may ask users to listen for events bubbled up from elements rendered by the component itself. Since this is impossible for react, the stencil component exposes a custom event named `kdsClick`, `kdsChange`, etc. The bindings then produce a respective React prop (`onKdsClick`, `onKdsChange`). While we could ask our consumers to use these props, it may be a better experience to proxy standard listener functions to their kds equivalent.

In these cases, we need to create a wrapper around the `kds-stencil-lite` generated React component. The following is an example:

```jsx
const KdsButtongroupMember = /*@__PURE__*/createReactComponent<JSX.KdsButtongroupMember, HTMLKdsButtongroupMemberElement>('kds-buttongroup-member');

//@ts-ignore
export const ButtonGroupMember: JSX.KdsButtongroupMember = ({onClick, onChange, ...props}) => (
  <KdsButtongroupMember 
    onKdsClick={(e) => onClick(e)}
    onKdsChange={(e) => onChange(e)}
    {...props}
  />
)
```

## 4. Update package.json and submit a merge request

With `components.tsx` in order, we then need to bump the version of `kds-stencil-lite` to the version containing the new components. If this version has yet to be published, go back to `kds-stencil-lite` and finish the remaining steps in the readme before continuing.

Since `kds-stencil-react-lite` and `kds-stencil-lite` are always updated at the same time, we want to keep their version numbers in sync. Therefore, set the version in the `package.json` to the version we used for `kds-stencil-lite`.