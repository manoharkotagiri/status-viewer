import { useState } from 'react'

/**
 * React Hook with behavior similar to the legacy setState method in class components.
 *
 * @param initialState
 * @returns {[*, function]}
 */
const useSetState = (initialState = {}) => {
  const [state, set] = useState(initialState)
  const setState = patch => {
    if (patch instanceof Function) {
      set(prevState => Object.assign({}, prevState, patch(prevState)))
    } else set(Object.assign({}, state, patch))
  }

  return [state, setState]
}

export default useSetState
