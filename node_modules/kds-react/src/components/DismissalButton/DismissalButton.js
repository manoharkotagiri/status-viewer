import React from 'react'
import PropTypes from 'prop-types'
import cx from 'classnames'
import { IconClose } from '../Icon'

/** We need to instantiate kinds and buttonTypes here and reference them in
 * proptypes for react-docgen to properly build props json output.
 */
export const kinds = [
  'default',
  'callout',
  'negative',
  'action',
  'positive',
  'neutral',
  'special'
]

/**
 * Dismissal Button allows the user to remove content from the UI.
 *
 * > **Note:** `<DismissalButton />` renders a button with all props spread on, like so: `<button {...props} />`.
 * So you can pass any relevant props such as: `disabled`, `onClick`, `name`, `value`, etc.
 */

const DismissalButton = React.forwardRef(
  ({ kind, className, ...dismissalBtnProps }, ref) => {
    const kindClassName =
      kind !== 'default' ? `kds-DismissalButton--${kind}` : ''

    return (
      <button
        {...dismissalBtnProps}
        className={cx('kds-DismissalButton', `${kindClassName}`, className)}
        ref={ref}
      >
        <IconClose size="xs" />
      </button>
    )
  }
)

DismissalButton.displayName = 'DismissalButton'

DismissalButton.propTypes = {
  /** Determines the dimissal button appearance based on connotations for various situations. */
  kind: PropTypes.oneOf(kinds),
  /** aria-label is required. The dismissal button must have meaningful alternate text.
   * Alternate text should describe what will be dismissed: e.g. `aria-label="Dismiss warning message"` or `aria-label="Remove tag: Produce"`
   */
  'aria-label': PropTypes.string.isRequired
}

DismissalButton.defaultProps = {
  kind: 'default'
}

export default DismissalButton
