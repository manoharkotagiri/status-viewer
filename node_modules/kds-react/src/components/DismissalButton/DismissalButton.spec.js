import React from 'react'
import DismissalButton, { kinds } from './DismissalButton'
import { render } from 'react-testing-library'
import { dismissalButtonContract } from 'kds-web-e-commerce-theme'
import { getPermutationsAsArray } from '../../utils/generateComponents'

describe('DismissalButton component', () => {
  const AllPossibleDismissalButtonStates = getPermutationsAsArray(
    DismissalButton,
    {
      kind: kinds
    }
  )

  describe('renders all possible dismissal button states and all pass contract tests', () => {
    AllPossibleDismissalButtonStates.forEach(({ jsx, props }) => {
      it(`with Props: ${JSON.stringify(props)}`, () => {
        const { container } = render(jsx)

        expect(container).toMatchSnapshot()
        // TODO :: Implement after DismissalButton contract tests are created, DO NOT MERGE OR RELEASE WITHOUT IT
        // expect(dismissalButtonContract.validateHTML(container.innerHTML)).toBeTruthy()
      })
    })
  })
})
