import React from 'react'
import AccentIcon from './AccentIcon'
import { sizes } from './propOpts'
import { render } from 'react-testing-library'
import { generateComponents } from '../../../utils/generateComponents'

describe('AccentIcon component', () => {
  it('renders a "default" accent icon with no specified size', () => {
    const { container } = render(
      <span>
        Sign in <AccentIcon />
      </span>
    )

    expect(container.querySelector('img')).toHaveClass('kds-AccentIcon')
  })

  it('renders all possible states', () => {
    const AllPossibleComponentStates = generateComponents(AccentIcon, {
      size: Object.keys(sizes),
      eager: [false, true],
      alt: [null, 'This is some alt text']
    })
    const { container } = render(AllPossibleComponentStates)

    expect(container).toMatchSnapshot()
  })
})
