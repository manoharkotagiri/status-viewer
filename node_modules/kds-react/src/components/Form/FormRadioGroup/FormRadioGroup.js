import React from 'react'
import RadioGroup from '../../RadioGroup/RadioGroup'
import FormField from '../FormField/FormField'
import { addRequiredToValidations } from '../validations/_prebuiltValidations'

export const RADIO_REQUIRED_DEFAULT_TEXT = 'A selection is required.'

/**
 * `FormRadioGroup` lets users make a single selection from a group for submission via a form.
 *
 * > **Note:** `<FormRadioGroup />` renders an `<FormField />` with most props spread on.
 * For more details, see the [FormField](./formfield) and [RadioGroup](./radiogroup) components.
 *
 * It comes with accessible form features:
 *
 * - label and description
 * - validation messaging
 * - aria attributes
 *
 * **Requires *custom-event* polyfill for custom validations to work in IE11** [See Polyfills](./polyfills)
 */

const FormRadioGroup = ({ required, validations, ...props }) => {
  return (
    <FormField
      {...props}
      as={RadioGroup}
      validations={
        required
          ? addRequiredToValidations(validations, RADIO_REQUIRED_DEFAULT_TEXT)
          : validations
      }
    />
  )
}

export default FormRadioGroup
