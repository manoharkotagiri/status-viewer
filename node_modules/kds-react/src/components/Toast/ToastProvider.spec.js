import React from 'react'
import { render } from 'react-testing-library'
import ToastProvider from './ToastProvider'
import ToastConsumer from './ToastConsumer'
import { toastGroupContract } from 'kds-web-e-commerce-theme'

describe('Toast Group contract tests', () => {
  it('passes contract tests: ', () => {
    const { baseElement } = render(
      <ToastProvider>
        <ToastConsumer>
          {add => {
            add({
              kind: 'warning',
              heading: 'Warning',
              text: 'This toast is too hot to handle.'
            })
          }}
        </ToastConsumer>
      </ToastProvider>
    )

    const toastGroup = baseElement.querySelector('.kds-ToastGroup')

    expect(toastGroupContract.validateHTML(toastGroup.outerHTML)).toBeTruthy()
  })
})
