import React from 'react'
import PropTypes from 'prop-types'
import cx from 'classnames'

export const kindOpts = ['positive', 'callout', 'negative']
const getValidKind = kind => (kindOpts.includes(kind) ? kind : 'positive')

/**
 * `<StatusIndicator>` provides context to the user on the status of an order, system process, or a datapoint within the UI.
 */

const StatusIndicator = ({ children, tag: Tag, className, kind, ...props }) =>
  children ? (
    <Tag
      {...props}
      className={cx(
        'kds-StatusIndicator',
        `kds-StatusIndicator--${getValidKind(kind)}`,
        className
      )}
    >
      {children}
    </Tag>
  ) : (
    ''
  )

StatusIndicator.propTypes = {
  /** Text to display to the right of the status indicator dot. */
  children: PropTypes.any.isRequired,
  kind: PropTypes.oneOf(kindOpts),
  /** To override the default tag. */
  tag: PropTypes.string
}

StatusIndicator.defaultProps = {
  kind: 'positive',
  tag: 'span'
}

export default StatusIndicator
