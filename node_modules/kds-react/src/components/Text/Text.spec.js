import React from 'react'
import { render } from 'react-testing-library'
import { generateComponents } from '../../utils/generateComponents'
import Text, { sizeOpts } from './Text'

describe('<Text>', () => {
  it('adds custom className passed in as a prop', () => {
    const className = 'sichuan'
    const { container } = render(<Text className={className} />)

    expect(container.firstChild).toHaveClass(className)
  })

  it('spreads attributes onto the rendered element', () => {
    const { container } = render(<Text id="myText" />)

    expect(container.firstChild).toHaveAttribute('id', 'myText')
  })

  it('Renders all possible "size", "block", and "bold" props combinations', () => {
    const AllElements = generateComponents(Text, {
      children: ['Sample Text'],
      size: sizeOpts,
      bold: [false, true]
    })

    const { container } = render(AllElements)

    expect(container).toMatchSnapshot()
  })
})
