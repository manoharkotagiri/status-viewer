import cx from 'classnames'
import PropTypes from 'prop-types'
import React from 'react'
import { IconFavoriteSolid } from '../Icon'

const Favorite = ({ favorited, what, ...buttonProps }) => (
  <button
    aria-label={`${favorited ? 'Remove' : 'Save'} ${what} ${
      favorited ? 'from' : 'to'
    } my favorites.`}
    {...buttonProps}
    aria-pressed={favorited}
    className={cx(
      'kds-Favorite',
      { 'kds-Favorite--favorited': favorited },
      buttonProps.className
    )}
  >
    <IconFavoriteSolid
      size="m"
      className="kds-Favorite-icon"
      strokeLinejoin="round"
      strokeWidth=".75"
    />
  </button>
)

Favorite.propTypes = {
  /** Determines whether the component is favorited */
  favorited: PropTypes.bool,
  /** Name of the item/coupon/recipe/whatever thing is being favorited.
   * Incorporated into informative output (aria-label) for screen reader users.
   * Eg: `what="Kroger Cereal"` will be read as "Save Kroger Cereal to my favorites."
   * or "Remove Kroger Cereal from my favorites" depending on the value of "favorite".
   * You can also choose to pass in a custom `aria-label` for full control of the read out. */
  what: PropTypes.string.isRequired
}

Favorite.defaultProps = {
  favorited: false
}

export default React.memo(Favorite)
