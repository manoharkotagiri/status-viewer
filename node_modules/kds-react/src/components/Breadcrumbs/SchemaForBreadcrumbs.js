import React from 'react'
import JsonLd from '../JsonLd/JsonLd'

export const generateData = (breadcrumbs = []) => {
  return {
    '@context': 'https://schema.org',
    '@type': 'BreadcrumbList',
    itemListElement:
      breadcrumbs &&
      breadcrumbs.map((breadcrumb, index) =>
        index === 0
          ? {
            '@type': 'ListItem',
            position: index + 1,
            name: breadcrumb && breadcrumb.title,
            item: `https://www.kroger.com`
          }
          : {
            '@type': 'ListItem',
            position: index + 1,
            name: breadcrumb && breadcrumb.title,
            item: `https://www.kroger.com${breadcrumb && breadcrumb.url}`
          }
      )
  }
}

const SchemaForBreadcrumbs = ({ breadcrumbs }) => {
  return breadcrumbs ? <JsonLd data={generateData(breadcrumbs)} /> : null
}

export default SchemaForBreadcrumbs
