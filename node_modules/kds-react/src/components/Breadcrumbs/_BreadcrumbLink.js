import React from 'react'
import PropTypes from 'prop-types'
import Link from '../Link/Link'
import { IconCaretRight } from '../Icon/index'
import cx from 'classnames'

/**
 * Breadcrumb links are used by the `Breadcrumb` component for composing breadcrumbs that should be links with icons.
 */
const BreadcrumbLink = ({
  title,
  url,
  inverse,
  withRouter,
  component: UserLink,
  ...props
}) => {
  return (
    <li className="inline">
      {UserLink ? (
        <UserLink
          className={cx(
            'kds-Link',
            'mr-4',
            `kds-Link--inherit`,
            {
              'kds-Link--inverse': inverse
            },
            props.className
          )}
          href={url}
          {...props}
        >
          {title}
        </UserLink>
      ) : (
        <Link
          inverse={inverse}
          className="mr-4"
          href={url}
          withRouter={withRouter}
          noRouter={!withRouter}
          {...props}
        >
          {title}
        </Link>
      )}
      <IconCaretRight
        color={inverse ? 'inverse' : 'supportive'}
        aria-hidden="true"
        className="mr-4"
      />
    </li>
  )
}

BreadcrumbLink.propTypes = {
  /** Exact page title to show as text */
  title: PropTypes.string,
  /** Url for Link */
  url: PropTypes.string,
  /** Set to true if the breadcrumb link is placed on the brand surface background. */
  inverse: PropTypes.bool,
  /** Set to `true` if you want to use a React Router `NavLink`, else an anchor tag is used. */
  withRouter: PropTypes.bool,
  component: PropTypes.element
}

export default BreadcrumbLink
