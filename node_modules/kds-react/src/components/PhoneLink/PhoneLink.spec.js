import React from 'react'
import PhoneLink from './PhoneLink'
import { render } from 'react-testing-library'
import { phoneLinkContract } from 'kds-web-e-commerce-theme'

describe('PhoneLink component', () => {
  it('renders explicit PhoneLink', () => {
    const { container, getByText } = render(
      <PhoneLink dial="18005764377" explicit />
    )

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders extra small PhoneLink', () => {
    const { container, getByText } = render(
      <PhoneLink dial="18005764377" size="xs" />
    )

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders small PhoneLink', () => {
    const { container, getByText } = render(
      <PhoneLink dial="18005764377" size="s" />
    )

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders medium PhoneLink', () => {
    const { container, getByText } = render(
      <PhoneLink dial="18005764377" size="m" />
    )

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders large PhoneLink', () => {
    const { container, getByText } = render(
      <PhoneLink dial="18005764377" size="l" />
    )

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a number', () => {
    const { container, getByText } = render(<PhoneLink dial={18005764377} />)

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a number string', () => {
    const { container, getByText } = render(<PhoneLink dial="18005764377" />)

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a string with 10 numeric characters', () => {
    const { container, getByText } = render(<PhoneLink dial="8005764377" />)

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a string with 7 numeric characters', () => {
    const { container, getByText } = render(<PhoneLink dial="5764377" />)

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a string representing a vanity number', () => {
    const { container, getByText } = render(<PhoneLink dial="1800KROGERS" />)

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–KRO–GERS/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a string format of: +#(###)#######', () => {
    const { container, getByText } = render(<PhoneLink dial="+1(800)5764377" />)

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a string format of: +#(###)###-####', () => {
    const { container, getByText } = render(
      <PhoneLink dial="+1(800)576-4377" />
    )

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a string format of: ###-###-####', () => {
    const { container, getByText } = render(<PhoneLink dial="800-576-4377" />)

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a string format of: #-###-###-####', () => {
    const { container, getByText } = render(<PhoneLink dial="1-800-576-4377" />)

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })

  it('renders PhoneLink with correct format when given a string with more than 11 valid charaters', () => {
    const { container, getByText } = render(
      <PhoneLink dial="1-800-576-437789" />
    )

    expect(phoneLinkContract.validateHTML(container.innerHTML)).toBeTruthy()
    expect(getByText(/800–576–4377/)).toBeInTheDocument()
  })
})
