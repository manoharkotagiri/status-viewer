import React from 'react'
import Input from './Input'
import { render } from 'react-testing-library'

describe('<Input />', () => {
  it('renders an <input> with proper classes', () => {
    const { container } = render(<Input className="extraClass" />)

    expect(container.querySelector('.kds-Input').className).toBe(
      'kds-Input extraClass'
    )
  })

  it('renders an <input> with compact class when compact prop is set', () => {
    const { container } = render(<Input compact />)

    expect(container.querySelector('.kds-Input')).toHaveClass(
      'kds-Input--compact'
    )
  })

  it('forwards the ref', () => {
    const ref = React.createRef()

    render(<Input ref={ref} />)

    expect(ref.current instanceof HTMLInputElement).toBe(true)
  })

  it('passes through default props', () => {
    const { container } = render(<Input />)
    expect(container).toMatchInlineSnapshot(`
<div>
  <input
    class="kds-Input"
    maxlength="125"
  />
</div>
`)
  })
})
