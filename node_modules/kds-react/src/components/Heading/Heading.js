import cx from 'classnames'
import PropTypes from 'prop-types'
import React from 'react'

export const tagOpts = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6']
export const sizeOpts = ['xl', 'l', 'm', 's']

const defaultTags = {
  xl: 'h1',
  l: 'h1',
  m: 'h2',
  s: 'h3'
}

const checkSize = size => {
  return sizeOpts.includes(size) ? size : 'l'
}

const Heading = ({ size, tag: Tag, ...hProps }) => {
  size = checkSize(size)
  Tag = Tag || defaultTags[size]

  return (
    <Tag
      {...hProps}
      className={cx(`kds-Heading`, `kds-Heading--${size}`, hProps.className)}
    />
  )
}

Heading.propTypes = {
  size: PropTypes.oneOf(sizeOpts),
  /** To override the automatic heading tag level.
   * By default tag is derived from the size prop:
   * - `xl` -> `h1`
   * - `l` -> `h1`
   * - `m` -> `h2`
   * - `s` -> `h3`
   * */
  tag: PropTypes.oneOf(tagOpts)
}

Heading.defaultProps = {
  size: 'l'
}

export default React.memo(Heading)
