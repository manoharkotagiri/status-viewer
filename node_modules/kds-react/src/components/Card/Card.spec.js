import React from 'react'
import Card from './Card'
import { render } from 'react-testing-library'
import { cardContract } from 'kds-web-e-commerce-theme'

describe('<Card />', () => {
  it('renders a card with proper classes', () => {
    const { container } = render(<Card className="extraClass" />)

    expect(container.firstChild).toMatchInlineSnapshot(`
<div
  class="kds-Card extraClass"
/>
`)
  })

  it("as prop overrides the card's tag", () => {
    const { container } = render(<Card tag="li" />)

    expect(container.firstChild).toMatchInlineSnapshot(`
<li
  class="kds-Card"
/>
`)
    expect(cardContract.validateHTML(container.innerHTML)).toBeTruthy()
  })

  it('passes arbitrary props down to the card element', () => {
    const { container } = render(<Card test-attribute="testValue" />)

    expect(container.firstChild).toMatchInlineSnapshot(`
<div
  class="kds-Card"
  test-attribute="testValue"
/>
`)
    expect(cardContract.validateHTML(container.innerHTML)).toBeTruthy()
  })
})
