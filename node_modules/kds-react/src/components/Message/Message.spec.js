import React from 'react'
import Message from './Message'
import { render } from 'react-testing-library'

describe('Message component', () => {
  it('renders an "info" Message', () => {
    const { container } = render(
      <Message>Your Kroger is open 24 hours.</Message>
    )

    expect(container.firstChild).toMatchInlineSnapshot(`
<div
  class="kds-Message kds-Message--info"
>
  <svg
    class="MOCK kds-Icon kds-IconInfo kds-Message-icon kds-Icon--utilitySmall"
    data-name="Icon"
  >
    <path />
  </svg>
  <span
    class="kds-Text--s kds-Message-content"
  >
    Your Kroger is open 24 hours.
  </span>
</div>
`)
  })

  it('renders a "success" Message', () => {
    const { container } = render(
      <Message kind="success">You've added an item to your cart!</Message>
    )

    expect(container.firstChild).toMatchInlineSnapshot(`
<div
  class="kds-Message kds-Message--success"
>
  <svg
    class="MOCK kds-Icon kds-IconSuccess kds-Message-icon kds-Icon--utilitySmall"
    data-name="Icon"
  >
    <path />
  </svg>
  <span
    class="kds-Text--s kds-Message-content"
  >
    You've added an item to your cart!
  </span>
</div>
`)
  })

  it('renders a "warning" Message', () => {
    const { container } = render(
      <Message kind="warning">
        You must be at least 21 years old to receive this item.
      </Message>
    )

    expect(container.firstChild).toMatchInlineSnapshot(`
<div
  class="kds-Message kds-Message--warning"
>
  <svg
    class="MOCK kds-Icon kds-IconWarning kds-Message-icon kds-Icon--utilitySmall"
    data-name="Icon"
  >
    <path />
  </svg>
  <span
    class="kds-Text--s kds-Message-content"
  >
    You must be at least 21 years old to receive this item.
  </span>
</div>
`)
  })

  it('renders an "error" Message', () => {
    const { container } = render(
      <Message kind="error">You have entered an incorrect password.</Message>
    )

    expect(container.firstChild).toMatchInlineSnapshot(`
<div
  class="kds-Message kds-Message--error"
>
  <svg
    class="MOCK kds-Icon kds-IconError kds-Message-icon kds-Icon--utilitySmall"
    data-name="Icon"
  >
    <path />
  </svg>
  <span
    class="kds-Text--s kds-Message-content"
  >
    You have entered an incorrect password.
  </span>
</div>
`)
  })

  it('renders a Message with a custom className passed in', () => {
    const { container } = render(<Message className="Snail-mail" />)

    expect(container.firstChild.getAttribute('class')).toMatchInlineSnapshot(
      `"kds-Message kds-Message--info Snail-mail"`
    )
  })
})
