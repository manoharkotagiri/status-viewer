import { forceArray, getUniqueValuesByKey } from './arrayUtils'

describe('arrayUtils', () => {
  describe('forceArray', () => {
    it('returns array as-is', () => {
      const arr = ['foo']
      expect(forceArray(arr)).toBe(arr)
    })

    it('forces non-array to array', () => {
      expect(forceArray('foo')).toEqual(['foo'])
    })
  })

  describe('getUniqueValuesByKey', () => {
    it('should return unique values by key', () => {
      const arr = [
        {
          type: 'dog',
          ears: '2',
          name: 'good dog'
        },
        {
          type: 'bird',
          ears: '0',
          name: 'BJ'
        },
        {
          type: 'cat',
          ears: '2',
          name: 'cat cat'
        }
      ]

      const results = getUniqueValuesByKey(arr, 'ears')

      expect(results).toHaveLength(2)
      expect(results).toContain('2')
      expect(results).toContain('0')
    })
  })
})
