{"version":3,"file":"Tag.js","sources":["kds-react/src/components/Tag/Tag.js"],"sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\nimport { CSSTransition } from 'react-transition-group'\nimport DismissalButton from '../DismissalButton/DismissalButton'\n\nexport const kinds = [\n  'special',\n  'default',\n  'positive',\n  'callout',\n  'neutral',\n  'negative',\n  'interactive',\n  'action'\n]\n\n/**\n * Tags are compact elements that help organize, categorize, and control content.\n */\nconst Tag = React.forwardRef(\n  (\n    {\n      tag: ElementTag,\n      kind,\n      className,\n      onRemove,\n      icon: Icon,\n      role,\n      text,\n      compact,\n      'aria-label': ariaLabel,\n      'data-index': focusIndex,\n      ...props\n    },\n    ref\n  ) => {\n    const onRemoveHandler = () => {\n      removable && setFadeInOutState('FadeOut') //  fade out and remove from DOM\n      if (onRemove) {\n        onRemove(focusIndex) //  remove from TagGroup tag state and move focus to sibling\n      }\n    }\n\n    const [fadeInOutState, setFadeInOutState] = useState('FadeIn')\n    const removable = typeof onRemove === 'function'\n    const tagClassName = cx(\n      'kds-Tag',\n      `kds-Tag--${kind}`,\n      { 'kds-Tag--compact': !removable && compact },\n      className\n    )\n    const ariaLabelTxt = ariaLabel === undefined ? text : ariaLabel\n\n    return (\n      <CSSTransition\n        in={removable ? fadeInOutState == 'FadeIn' : false}\n        appear\n        timeout={200}\n        classNames={{\n          appearActive: cx(tagClassName, 'is-added'),\n          enterDone: tagClassName,\n          exitActive: cx(tagClassName, 'is-removed'),\n          exitDone: cx(tagClassName, 'is-removed')\n        }}\n        unmountOnExit={!!removable}\n        data-index={focusIndex}\n        {...props}\n      >\n        <ElementTag\n          role={role}\n          aria-label={`Tag: ${ariaLabelTxt}`}\n          className={tagClassName}\n        >\n          {Icon && <Icon className=\"kds-Tag-Icon mr-4\" size=\"s\" />}\n          <span className=\"kds-Tag-text\">{text}</span>\n          {removable && (\n            <DismissalButton\n              className=\"kds-Tag-dismissalButton\"\n              aria-label={`remove Tag: ${ariaLabelTxt}`}\n              kind={kind}\n              onClick={onRemoveHandler}\n              ref={ref}\n            />\n          )}\n        </ElementTag>\n      </CSSTransition>\n    )\n  }\n)\n\nTag.displayName = 'Tag'\n\nTag.propTypes = {\n  /** Sets the tagâ€™s color based on one of the KDS color palette names. */\n  kind: PropTypes.oneOf(kinds),\n  /** A callback function for the dismissal button which, if provided, enables a dismissal button to appear. May not be used with `compact`. If both are detected, `compact` will be ignored.  */\n  onRemove: PropTypes.func,\n  /** Kind of icon component. Will appear to the left of the text. */\n  icon: PropTypes.elementType,\n  /** Text content. */\n  text: PropTypes.string.isRequired,\n  /** A standalone tag defaults to a `div`. When used in a `TagGroup`, tag should be `li`. */\n  tag: PropTypes.string,\n  /** If true, renders a smaller tag with smaller text and smaller icon if supplied. This prop will be ignored if used with `onRemove`. */\n  compact: PropTypes.bool,\n  /** A standalone tag gets a role of `note`. When used in a `TagGroup`, role should be 'listitem'. */\n  role: PropTypes.string,\n  /** Used to override the default `aria-label`, which defaults to `props.text` */\n  'aria-label': PropTypes.string,\n  'data-index': PropTypes.string\n}\n\nTag.defaultProps = {\n  kind: 'default',\n  role: 'note',\n  tag: 'div',\n  compact: false\n}\n\nexport default Tag\n"],"names":["Tag","React","forwardRef","ref","ElementTag","tag","kind","className","onRemove","Icon","icon","role","text","compact","ariaLabel","focusIndex","props","onRemoveHandler","removable","setFadeInOutState","useState","fadeInOutState","tagClassName","cx","ariaLabelTxt","undefined","appearActive","enterDone","exitActive","exitDone","displayName","defaultProps"],"mappings":";;;;;;;;;;;;;;;;AAiBA;;;;AAGA,IAAMA,GAAG,GAAGC,KAAK,CAACC,UAAN,CACV,gBAcEC,GAdF,EAeK;AAAA,MAbIC,UAaJ,QAbDC,GAaC;AAAA,MAZDC,IAYC,QAZDA,IAYC;AAAA,MAXDC,SAWC,QAXDA,SAWC;AAAA,MAVDC,QAUC,QAVDA,QAUC;AAAA,MATKC,IASL,QATDC,IASC;AAAA,MARDC,IAQC,QARDA,IAQC;AAAA,MAPDC,IAOC,QAPDA,IAOC;AAAA,MANDC,OAMC,QANDA,OAMC;AAAA,MALaC,SAKb,QALD,YAKC;AAAA,MAJaC,UAIb,QAJD,YAIC;AAAA,MAHEC,KAGF;;AACH,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BC,IAAAA,SAAS,IAAIC,iBAAiB,CAAC,SAAD,CAA9B,CAD4B;;AAE5B,QAAIX,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACO,UAAD,CAAR,CADY;AAEb;AACF,GALD;;AADG,kBAQyCK,QAAQ,CAAC,QAAD,CARjD;AAAA;AAAA,MAQIC,cARJ;AAAA,MAQoBF,iBARpB;;AASH,MAAMD,SAAS,GAAG,OAAOV,QAAP,KAAoB,UAAtC;AACA,MAAMc,YAAY,GAAGC,EAAE,CACrB,SADqB,qBAETjB,IAFS,GAGrB;AAAE,wBAAoB,CAACY,SAAD,IAAcL;AAApC,GAHqB,EAIrBN,SAJqB,CAAvB;AAMA,MAAMiB,YAAY,GAAGV,SAAS,KAAKW,SAAd,GAA0Bb,IAA1B,GAAiCE,SAAtD;AAEA,SACE,oBAAC,aAAD;AACE,IAAA,EAAE,EAAEI,SAAS,GAAGG,cAAc,IAAI,QAArB,GAAgC,KAD/C;AAEE,IAAA,MAAM,MAFR;AAGE,IAAA,OAAO,EAAE,GAHX;AAIE,IAAA,UAAU,EAAE;AACVK,MAAAA,YAAY,EAAEH,EAAE,CAACD,YAAD,EAAe,UAAf,CADN;AAEVK,MAAAA,SAAS,EAAEL,YAFD;AAGVM,MAAAA,UAAU,EAAEL,EAAE,CAACD,YAAD,EAAe,YAAf,CAHJ;AAIVO,MAAAA,QAAQ,EAAEN,EAAE,CAACD,YAAD,EAAe,YAAf;AAJF,KAJd;AAUE,IAAA,aAAa,EAAE,CAAC,CAACJ,SAVnB;AAWE,kBAAYH;AAXd,KAYMC,KAZN,GAcE,oBAAC,UAAD;AACE,IAAA,IAAI,EAAEL,IADR;AAEE,iCAAoBa,YAApB,CAFF;AAGE,IAAA,SAAS,EAAEF;AAHb,KAKGb,IAAI,IAAI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAoC,IAAA,IAAI,EAAC;AAAzC,IALX,EAME;AAAM,IAAA,SAAS,EAAC;AAAhB,KAAgCG,IAAhC,CANF,EAOGM,SAAS,IACR,oBAAC,eAAD;AACE,IAAA,SAAS,EAAC,yBADZ;AAEE,wCAA2BM,YAA3B,CAFF;AAGE,IAAA,IAAI,EAAElB,IAHR;AAIE,IAAA,OAAO,EAAEW,eAJX;AAKE,IAAA,GAAG,EAAEd;AALP,IARJ,CAdF,CADF;AAkCD,CApES,CAAZ;AAuEAH,GAAG,CAAC8B,WAAJ,GAAkB,KAAlB;AAsBA9B,GAAG,CAAC+B,YAAJ,GAAmB;AACjBzB,EAAAA,IAAI,EAAE,SADW;AAEjBK,EAAAA,IAAI,EAAE,MAFW;AAGjBN,EAAAA,GAAG,EAAE,KAHY;AAIjBQ,EAAAA,OAAO,EAAE;AAJQ,CAAnB;;"}