/* eslint-disable */

/***********************************************************************************************
  THIS IS AN AUTO-GENERATED FILE. DO NOT MAKE CHANGES HERE

  Generated on: Wed Dec 09 2020 21:14:13 GMT+0000 (Coordinated Universal Time)
************************************************************************************************/

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var _extends = _interopDefault(require('@babel/runtime/helpers/extends'));
var _objectWithoutProperties = _interopDefault(require('@babel/runtime/helpers/objectWithoutProperties'));
var React = require('react');
var React__default = _interopDefault(React);
var cx = _interopDefault(require('classnames'));
require('../Icon/icons/AcceptEntry.js');
require('../Icon/icons/AccountSummary.js');
require('../Icon/icons/Account.js');
require('../Icon/icons/AddCard.js');
require('../Icon/icons/AddColumn.js');
require('../Icon/icons/AddPatient.js');
require('../Icon/icons/AddPlusCard.js');
require('../Icon/icons/AddPrescription.js');
require('../Icon/icons/AdultBeverage.js');
require('../Icon/icons/Airplane.js');
require('../Icon/icons/Android.js');
require('../Icon/icons/Animals.js');
require('../Icon/icons/ApiAuthorize.js');
require('../Icon/icons/ApiProduct.js');
require('../Icon/icons/Approved.js');
require('../Icon/icons/Ar.js');
require('../Icon/icons/Associate.js');
require('../Icon/icons/Asterisk.js');
require('../Icon/icons/Audience.js');
require('../Icon/icons/AutoRefill.js');
require('../Icon/icons/Baby.js');
require('../Icon/icons/Backstock.js');
require('../Icon/icons/BagBarcode.js');
require('../Icon/icons/Bags.js');
require('../Icon/icons/BarGraph.js');
require('../Icon/icons/BarLineGraph.js');
require('../Icon/icons/Barcode.js');
require('../Icon/icons/BasketTime.js');
require('../Icon/icons/Basket.js');
require('../Icon/icons/BeautyPersonalCare.js');
require('../Icon/icons/Beta.js');
require('../Icon/icons/BlankBox.js');
require('../Icon/icons/BuyWireless.js');
require('../Icon/icons/Calendar.js');
require('../Icon/icons/Camera.js');
require('../Icon/icons/Candy.js');
require('../Icon/icons/CapsLock.js');
require('../Icon/icons/CardView.js');
require('../Icon/icons/CarouselView.js');
var CaretLeft = require('../Icon/icons/CaretLeft.js');
var CaretRight = require('../Icon/icons/CaretRight.js');
require('../Icon/icons/Cart.js');
require('../Icon/icons/CashBack.js');
require('../Icon/icons/CashRegister.js');
require('../Icon/icons/CcAmex.js');
require('../Icon/icons/CcDinersClub.js');
require('../Icon/icons/CcDiscover.js');
require('../Icon/icons/CcMastercard.js');
require('../Icon/icons/CcVisa.js');
require('../Icon/icons/CellPhone.js');
require('../Icon/icons/CenterAlign.js');
require('../Icon/icons/CheckMark.js');
require('../Icon/icons/ChevronDown.js');
require('../Icon/icons/ChevronUp.js');
require('../Icon/icons/CivicOrganizations.js');
require('../Icon/icons/CleaningHousehold.js');
require('../Icon/icons/Clock.js');
require('../Icon/icons/Close.js');
require('../Icon/icons/CodePhone.js');
require('../Icon/icons/Coffee.js');
require('../Icon/icons/ContainsDairy.js');
require('../Icon/icons/ContainsArtificialIngredients.js');
require('../Icon/icons/Comment.js');
require('../Icon/icons/CompanyDirect.js');
require('../Icon/icons/ContractViewport.js');
require('../Icon/icons/ControlPayment.js');
require('../Icon/icons/Convenience.js');
require('../Icon/icons/CollapseAll.js');
require('../Icon/icons/Copy.js');
require('../Icon/icons/Coupons.js');
require('../Icon/icons/CreateNew.js');
require('../Icon/icons/CreditCard.js');
require('../Icon/icons/CurrentLocationAndroid.js');
require('../Icon/icons/CurrentLocationIos.js');
require('../Icon/icons/DamagedItem.js');
require('../Icon/icons/DarkLight.js');
require('../Icon/icons/Dashboard.js');
require('../Icon/icons/DebitCard.js');
require('../Icon/icons/DeliBakery.js');
require('../Icon/icons/Delivery.js');
require('../Icon/icons/DiabeticNeeds.js');
require('../Icon/icons/Directions.js');
require('../Icon/icons/Diversity.js');
require('../Icon/icons/DownArrow.js');
require('../Icon/icons/Download.js');
require('../Icon/icons/DragHandle.js');
require('../Icon/icons/Draggable.js');
require('../Icon/icons/DrugInteractions.js');
require('../Icon/icons/DrugSearch.js');
require('../Icon/icons/Ebt.js');
require('../Icon/icons/Edit.js');
require('../Icon/icons/Education.js');
require('../Icon/icons/EggFree.js');
require('../Icon/icons/Ellipsis.js');
require('../Icon/icons/Email.js');
require('../Icon/icons/EmergencyContact.js');
require('../Icon/icons/Environmental.js');
require('../Icon/icons/Error.js');
require('../Icon/icons/ExclusiveSavings.js');
require('../Icon/icons/Exit.js');
require('../Icon/icons/ExpandAll.js');
require('../Icon/icons/ExpandViewport.js');
require('../Icon/icons/ExpenseReport.js');
require('../Icon/icons/Expiration.js');
require('../Icon/icons/Export.js');
require('../Icon/icons/External.js');
require('../Icon/icons/EyeSlash.js');
require('../Icon/icons/Eye.js');
require('../Icon/icons/Failure.js');
require('../Icon/icons/FairService.js');
require('../Icon/icons/FaithBased.js');
require('../Icon/icons/Faq.js');
require('../Icon/icons/FatFree.js');
require('../Icon/icons/FavoriteSolid.js');
require('../Icon/icons/Favorite.js');
require('../Icon/icons/Fee.js');
require('../Icon/icons/Feedback.js');
require('../Icon/icons/File.js');
require('../Icon/icons/Filters.js');
require('../Icon/icons/Flag.js');
require('../Icon/icons/FlagSolid.js');
require('../Icon/icons/FlashOff.js');
require('../Icon/icons/FlashOn.js');
require('../Icon/icons/Flashlight.js');
require('../Icon/icons/Floral.js');
require('../Icon/icons/FmJewelers.js');
require('../Icon/icons/FuelPump.js');
require('../Icon/icons/Fuel.js');
require('../Icon/icons/GanttChart.js');
require('../Icon/icons/GiftCardMall.js');
require('../Icon/icons/GiftCard.js');
require('../Icon/icons/GlutenFree.js');
require('../Icon/icons/GoodService.js');
require('../Icon/icons/GoogleHome.js');
require('../Icon/icons/GridView.js');
require('../Icon/icons/GroceriesHome.js');
require('../Icon/icons/Groceries.js');
require('../Icon/icons/HandSanitizer.js');
require('../Icon/icons/HamburgerMenuNative.js');
require('../Icon/icons/HamburgerMenu.js');
require('../Icon/icons/HealthNutrition.js');
require('../Icon/icons/HealthWellness.js');
require('../Icon/icons/HeatEat.js');
require('../Icon/icons/Hierarchy.js');
require('../Icon/icons/HighProtein.js');
require('../Icon/icons/History.js');
require('../Icon/icons/HomeElectronics.js');
require('../Icon/icons/Home.js');
require('../Icon/icons/HungerRelief.js');
require('../Icon/icons/ImageMissing.js');
require('../Icon/icons/Import.js');
require('../Icon/icons/Info.js');
require('../Icon/icons/Ingredients.js');
require('../Icon/icons/InProgress.js');
require('../Icon/icons/InsuranceInfo.js');
require('../Icon/icons/IosShare.js');
require('../Icon/icons/Ios.js');
require('../Icon/icons/Kosher.js');
require('../Icon/icons/KrogerCreditCard.js');
require('../Icon/icons/KrogerRewards.js');
require('../Icon/icons/LactoseFree.js');
require('../Icon/icons/Layers.js');
require('../Icon/icons/LeftAlign.js');
require('../Icon/icons/LeftArrow.js');
require('../Icon/icons/Leftover.js');
require('../Icon/icons/LightBulb.js');
require('../Icon/icons/Link.js');
require('../Icon/icons/ListView.js');
require('../Icon/icons/LoadedSavings.js');
require('../Icon/icons/LocationA.js');
require('../Icon/icons/LocationB.js');
require('../Icon/icons/LocationRx.js');
require('../Icon/icons/Location.js');
require('../Icon/icons/Locked.js');
require('../Icon/icons/LockerPasscode.js');
require('../Icon/icons/LowFat.js');
require('../Icon/icons/Map.js');
require('../Icon/icons/MealKit.js');
require('../Icon/icons/MeatSeafood.js');
require('../Icon/icons/MedicationToolkit.js');
require('../Icon/icons/Members.js');
require('../Icon/icons/Merge.js');
require('../Icon/icons/MilitaryPoliceFire.js');
require('../Icon/icons/Minus.js');
require('../Icon/icons/MissingItem.js');
require('../Icon/icons/MoneyServices.js');
require('../Icon/icons/Moon.js');
require('../Icon/icons/MoreOptions.js');
require('../Icon/icons/Natural.js');
require('../Icon/icons/Newest.js');
require('../Icon/icons/NoFees.js');
require('../Icon/icons/NonGmo.js');
require('../Icon/icons/NotAvailable.js');
require('../Icon/icons/Notification.js');
require('../Icon/icons/NuroDeliver.js');
require('../Icon/icons/NuroPickup.js');
require('../Icon/icons/NutFree.js');
require('../Icon/icons/Offline.js');
require('../Icon/icons/OnlinePayment.js');
require('../Icon/icons/OptUp.js');
require('../Icon/icons/Organic.js');
require('../Icon/icons/OtherMisc.js');
require('../Icon/icons/Oven.js');
require('../Icon/icons/Paleo.js');
require('../Icon/icons/Partnership.js');
require('../Icon/icons/Paste.js');
require('../Icon/icons/PatientAccess.js');
require('../Icon/icons/PatientWellness.js');
require('../Icon/icons/PaymentSuccess.js');
require('../Icon/icons/Pencil.js');
require('../Icon/icons/PersonHome.js');
require('../Icon/icons/PersonStore.js');
require('../Icon/icons/PersonalCare.js');
require('../Icon/icons/PetMedications.js');
require('../Icon/icons/PharmacyNotifications.js');
require('../Icon/icons/PharmacySearch.js');
require('../Icon/icons/Pharmacy.js');
require('../Icon/icons/Phone.js');
require('../Icon/icons/Pickup.js');
require('../Icon/icons/PieChart.js');
require('../Icon/icons/PiggyBank.js');
require('../Icon/icons/PillIdentifier.js');
require('../Icon/icons/PlusCard.js');
require('../Icon/icons/Plus.js');
require('../Icon/icons/PoorService.js');
require('../Icon/icons/PoorSubstitution.js');
require('../Icon/icons/Popularity.js');
require('../Icon/icons/PreferredCard.js');
require('../Icon/icons/PrescriptionHistory.js');
require('../Icon/icons/PrescriptionStatus.js');
require('../Icon/icons/Print.js');
require('../Icon/icons/PrivacyPolicy.js');
require('../Icon/icons/Produce.js');
require('../Icon/icons/PromotionOnAd.js');
require('../Icon/icons/PromotionOnDisplay.js');
require('../Icon/icons/Promotions.js');
require('../Icon/icons/Publish.js');
require('../Icon/icons/PurchaseHistory.js');
require('../Icon/icons/PushNotification.js');
require('../Icon/icons/PushPin.js');
require('../Icon/icons/PushPinSolid.js');
require('../Icon/icons/PuzzlePiece.js');
require('../Icon/icons/QrCode.js');
require('../Icon/icons/RadioChecked.js');
require('../Icon/icons/RadioUnchecked.js');
require('../Icon/icons/RatingsHalf.js');
require('../Icon/icons/RatingsSolid.js');
require('../Icon/icons/Ratings.js');
require('../Icon/icons/ReWeigh.js');
require('../Icon/icons/React.js');
require('../Icon/icons/Recall.js');
require('../Icon/icons/Receipt.js');
require('../Icon/icons/RecentSearch.js');
require('../Icon/icons/Recipes.js');
require('../Icon/icons/Recycle.js');
require('../Icon/icons/Redo.js');
require('../Icon/icons/RefillFromList.js');
require('../Icon/icons/RefillPrograms.js');
require('../Icon/icons/RejectEntry.js');
require('../Icon/icons/Relevance.js');
require('../Icon/icons/RemoveColumn.js');
require('../Icon/icons/Repurchase.js');
require('../Icon/icons/Reset.js');
require('../Icon/icons/Restrooms.js');
require('../Icon/icons/Returns.js');
require('../Icon/icons/Revert.js');
require('../Icon/icons/Rewards.js');
require('../Icon/icons/RightArrow.js');
require('../Icon/icons/RxBarcode.js');
require('../Icon/icons/Route.js');
require('../Icon/icons/Sandwich.js');
require('../Icon/icons/SaveTime.js');
require('../Icon/icons/Scan.js');
require('../Icon/icons/ScanBagGo.js');
require('../Icon/icons/ScheduleAppointment.js');
require('../Icon/icons/Search.js');
require('../Icon/icons/SecurityQuestions.js');
require('../Icon/icons/SecurityTag.js');
require('../Icon/icons/Send.js');
require('../Icon/icons/Settings.js');
require('../Icon/icons/Share.js');
require('../Icon/icons/ShipToHome.js');
require('../Icon/icons/Ship.js');
require('../Icon/icons/ShopInStore.js');
require('../Icon/icons/ShopOnline.js');
require('../Icon/icons/Shop.js');
require('../Icon/icons/ShoppingList.js');
var SkipToEnd = require('../Icon/icons/SkipToEnd.js');
var SkipToStart = require('../Icon/icons/SkipToStart.js');
require('../Icon/icons/SocialServices.js');
require('../Icon/icons/Sort.js');
require('../Icon/icons/SortAz.js');
require('../Icon/icons/SortZa.js');
require('../Icon/icons/SoyFree.js');
require('../Icon/icons/Status.js');
require('../Icon/icons/Stencil.js');
require('../Icon/icons/Stethoscope.js');
require('../Icon/icons/Stock.js');
require('../Icon/icons/StoreLocker.js');
require('../Icon/icons/Store.js');
require('../Icon/icons/Success.js');
require('../Icon/icons/Sun.js');
require('../Icon/icons/Supercharged.js');
require('../Icon/icons/TableView.js');
require('../Icon/icons/TermsConditions.js');
require('../Icon/icons/ThumbsDown.js');
require('../Icon/icons/ThumbsUp.js');
require('../Icon/icons/Transfer.js');
require('../Icon/icons/TransferCircle.js');
require('../Icon/icons/TransferCircleSolid.js');
require('../Icon/icons/Trash.js');
require('../Icon/icons/Trending.js');
require('../Icon/icons/Undo.js');
require('../Icon/icons/Unlocked.js');
require('../Icon/icons/UpArrow.js');
require('../Icon/icons/Upload.js');
require('../Icon/icons/VaccinationsMadeEasy.js');
require('../Icon/icons/Vaccinations.js');
require('../Icon/icons/Value.js');
require('../Icon/icons/Vegan.js');
require('../Icon/icons/Vegetarian.js');
require('../Icon/icons/Voice.js');
require('../Icon/icons/Wallet.js');
require('../Icon/icons/Warning.js');
require('../Icon/icons/WeeklyAd.js');
require('../Icon/icons/Weigh.js');
require('../Icon/icons/WorldwideAcceptance.js');
require('../Icon/icons/WrongItem.js');
require('../Icon/icons/YouthPrograms.js');
require('../Icon/icons/YtdSavings.js');
require('../Icon/icons/ZoomIn.js');
require('../Icon/icons/ZoomOut.js');
var Button = require('../Button/Button.js');
var _slicedToArray = _interopDefault(require('@babel/runtime/helpers/slicedToArray'));
var useForceUpdate = require('../../hooks/useForceUpdate.js');
var useOnResize = require('../../hooks/useOnResize.js');
var _carouselFunctions = require('./_carouselFunctions.js');
var _PaginationDots = require('./_PaginationDots.js');

/**
 * A Carousel is a grouping of similar elements (products, coupons, etc.) that that can be navigated horizontally.
 *
 * > **Note:** `<Carousel />` renders a `div` with any additional props like `id` etc spread on to the `.kds-Carousel-contentWindow` div, like so: `<div {...props} />`.
 */

var Carousel = function Carousel(_ref) {
  var className = _ref.className,
      data = _ref.data,
      description = _ref.description,
      Template = _ref.template,
      keyBy = _ref.keyBy,
      hideGradients = _ref.hideGradients,
      props = _objectWithoutProperties(_ref, ["className", "data", "description", "template", "keyBy", "hideGradients"]);

  var _useState = React.useState(),
      _useState2 = _slicedToArray(_useState, 2),
      carousel = _useState2[0],
      setCarouselRef = _useState2[1];

  var forceUpdate = useForceUpdate.default();

  var _useState3 = React.useState(0),
      _useState4 = _slicedToArray(_useState3, 2),
      firstFullyVisibleElementIndex = _useState4[0],
      setFirstFullyVisibleElementIndex = _useState4[1];

  useOnResize.default({
    onResize: forceUpdate
  });
  var carouselWidth = _carouselFunctions.getCarouselWidth(carousel);
  var templateWidth = _carouselFunctions.getTemplateWidth(carousel);
  var templateWithGutterWidth = templateWidth + _carouselFunctions.CAROUSEL_GUTTER_WIDTH;
  var totalNumberOfItems = data.length;
  var numberOfItemsShown = _carouselFunctions.getNumberOfItemsShown(carouselWidth, templateWithGutterWidth);
  var containerWidth = _carouselFunctions.getFullContainerWidth(templateWithGutterWidth, totalNumberOfItems);
  var isAtStartOfCarousel = _carouselFunctions.getIsAtStartOfCarousel(carousel);
  var isAtEndOfCarousel = _carouselFunctions.getIsAtEndOfCarousel(carousel, containerWidth);
  var onScroll = _carouselFunctions.useCarouselOnScrollCallback({
    carousel: carousel,
    containerWidth: containerWidth,
    templateWithGutterWidth: templateWithGutterWidth,
    firstFullyVisibleElementIndex: firstFullyVisibleElementIndex,
    setFirstFullyVisibleElementIndex: setFirstFullyVisibleElementIndex,
    forceUpdate: forceUpdate,
    previousIsAtEndOfCarousel: isAtEndOfCarousel
  });
  var onNextButtonClick = _carouselFunctions.useCarouselOnNextButtonClickCallback({
    carousel: carousel,
    templateWithGutterWidth: templateWithGutterWidth,
    templateWidth: templateWidth,
    numberOfItemsShown: numberOfItemsShown
  });
  var onPreviousButtonClick = _carouselFunctions.useCarouselOnPreviousButtonClickCallback({
    carousel: carousel,
    containerWidth: containerWidth,
    templateWithGutterWidth: templateWithGutterWidth,
    numberOfItemsShown: numberOfItemsShown
  });
  var onSkipToStartButtonClick = _carouselFunctions.useOnSkipToStartButtonClickCallback({
    carousel: carousel
  });
  var onSkipToEndButtonClick = _carouselFunctions.useOnSkipToEndButtonClickCallback({
    carousel: carousel,
    templateWithGutterWidth: templateWithGutterWidth,
    totalNumberOfItems: totalNumberOfItems,
    containerWidth: containerWidth
  });
  var startOfData = _carouselFunctions.getStartIndexToRender(firstFullyVisibleElementIndex, numberOfItemsShown);
  var endOfData = _carouselFunctions.getEndIndexToRender(totalNumberOfItems, firstFullyVisibleElementIndex, numberOfItemsShown);
  var dataToRender = data.slice(startOfData, endOfData);
  var numberOfSections = _carouselFunctions.getNumberOfSections(carouselWidth, totalNumberOfItems, numberOfItemsShown);
  var currentSection = _carouselFunctions.getCurrentSection(firstFullyVisibleElementIndex, numberOfItemsShown, numberOfSections, isAtEndOfCarousel, totalNumberOfItems);
  return React__default.createElement("div", {
    className: "kds-Carousel"
  }, React__default.createElement("div", {
    className: "kds-Carousel-wrapper"
  }, React__default.createElement(Button.default, {
    "aria-label": "View previous ".concat(description),
    className: "kds-Carousel-button kds-Carousel-button--previous",
    kind: "secondary",
    disabled: isAtStartOfCarousel,
    onClick: onPreviousButtonClick
  }, React__default.createElement(CaretLeft.IconCaretLeft, null)), React__default.createElement("div", {
    className: cx('kds-Carousel-gradientContainer', {
      'kds-Carousel-hideStartGradient': hideGradients || isAtStartOfCarousel,
      'kds-Carousel-hideEndGradient': hideGradients || isAtEndOfCarousel
    })
  }, React__default.createElement("div", _extends({
    className: cx('kds-Carousel-contentWindow', className),
    ref: setCarouselRef,
    onScroll: onScroll
  }, props), React__default.createElement("div", {
    style: {
      width: containerWidth
    },
    className: "kds-Carousel-contentContainer"
  }, React__default.createElement("ul", {
    role: "presentation",
    style: {
      left: startOfData * templateWithGutterWidth
    },
    className: "kds-Carousel-itemList"
  }, dataToRender.map(function (propsForTemplate, index) {
    var itemKey = propsForTemplate[keyBy];
    var actualItemIndex = startOfData + index;
    var isItemVisible = actualItemIndex >= firstFullyVisibleElementIndex && actualItemIndex < firstFullyVisibleElementIndex + numberOfItemsShown;
    return React__default.createElement("li", {
      "aria-setsize": totalNumberOfItems,
      "aria-posinset": actualItemIndex + 1,
      key: itemKey,
      className: cx('kds-Carousel-item') // we don't want our screenreader users to get caught in an infinitely loading carousel,
      // so we prevent them from focusing the next (hidden) element & scrolling it into view
      ,
      "aria-hidden": !isItemVisible,
      "aria-label": "Item ".concat(actualItemIndex + 1, " of ").concat(totalNumberOfItems),
      tabIndex: -1,
      "data-itemindex": index
    }, React__default.createElement(Template, _extends({}, propsForTemplate, {
      key: itemKey
    })), !((actualItemIndex + 1) % 10) && !(actualItemIndex === 0) && !(actualItemIndex === totalNumberOfItems - 1) && // no skip buttons in the beginning or end
    React__default.createElement(React__default.Fragment, null, React__default.createElement(Button.default, {
      compact: true,
      "aria-label": "Skip to first item of carousel",
      className: "kds-Carousel-button--skip",
      kind: "secondary",
      onClick: onSkipToStartButtonClick
    }, React__default.createElement(SkipToStart.IconSkipToStart, null)), React__default.createElement(Button.default, {
      compact: true,
      "aria-label": "Skip to last item of carousel",
      className: "kds-Carousel-button--skip",
      kind: "secondary",
      onClick: onSkipToEndButtonClick
    }, React__default.createElement(SkipToEnd.IconSkipToEnd, null))));
  }))))), React__default.createElement(Button.default, {
    "aria-label": "View next ".concat(description),
    className: "kds-Carousel-button kds-Carousel-button--next",
    kind: "secondary",
    onClick: onNextButtonClick,
    disabled: isAtEndOfCarousel
  }, React__default.createElement(CaretRight.IconCaretRight, null))), React__default.createElement(_PaginationDots.PaginationDots, {
    currentSection: currentSection,
    numberOfSections: numberOfSections
  }));
};

Carousel.defaultProps = {
  data: [],
  description: 'items',
  keyBy: 'key',
  hideGradients: false
};

exports.default = Carousel;
//# sourceMappingURL=Carousel.js.map
